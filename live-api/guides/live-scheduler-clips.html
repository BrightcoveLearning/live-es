---
title: 'Programación de la generación de clips para transmisiones en vivo'
description: 'Con el extremo Clip, puede programar el evento de clip de un trabajo en vivo existente. En el momento especificado, nuestro sistema realizará las llamadas API necesarias para iniciar un Clip Job en su nombre.'
parent: Guides 
grandparent: Live API
layout: staging —

<!-- Remember to change API reference links when going live -->

<h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
	<section class="bcls-section">
		<h2 id="Requirements">Requisitos</h2>
		<ul>
			<li>La clave de API en vivo para su cuenta.</li>
			<li>Su cuenta real debe tener habilitada la anulación del programador.</li>
		</ul>
	</section>
	<section class="bcls-section">
		<h2 id="Create_a_Clip_scheduler_workflow">Crear un flujo de trabajo del programador de clips</h2>
		<p>Al crear un clip, debe especificar tanto el límite de tiempo del clip (en el <code translate="no">producción</code> campo) y una hora programada (<code translate="no">time_utc</code> campo) para realizar la solicitud de clip.</p>
		<p>los <code translate="no">producción</code> campo en el cuerpo de la solicitud admite todos los mismos campos de la <code translate="no">salidas</code> campo en el punto final estándar de VOD. Sin emabargo, <strong>Los clips programados solo admiten una salida única en lugar de una lista</strong>. Ver <a href="/live-api/guides/live-api-creating-vod-clips.html">Documentos de soporte de recorte de VOD</a> para obtener detalles sobre los campos disponibles.</p>
		<p>Normalmente, establecería <code translate="no">time_utc</code> para que coincida con el límite final de su clip. La hora programada <strong>DEBER</strong> estar después del límite final del clip; de lo contrario, la solicitud del clip fallará a la hora programada.</p>
		<p>Marcas de tiempo para el <code translate="no">time_utc</code> El campo debe estar en UTC formateado como marca de tiempo Unix en segundos. Puedes usar <a href="https://www.unixtimestamp.com/" rel="nofollow">https://www.unixtimestamp.com/</a> para la conversión.</p>
		<p>Digamos que queremos programar un clip de 15 minutos que comenzará a las <code translate="no">2021-02-09T13: 55: 00 + 00: 00</code>. Podemos usar el <code translate="no">output.start_time</code> y <code translate="no">output.end_time</code> para especificar nuestro límite de clip como tiempo Unix en segundos. (De nuevo, vea <a href="/live-api/guides/live-api-creating-vod-clips.html">Documentos de soporte de recorte de VOD</a> para obtener detalles sobre los campos disponibles).</p>
		<pre><code translate="no">hora de inicio: 2021-02-09T13: 55: 00 + 00: 00 = 1612878900 hora_finalización: 2021-02-09T 14:10:00 + 00:00 = 1612879800 </code></pre>
		<p>Dado que el programador también requerirá un tiempo para programar la solicitud de clip, podemos usar el mismo valor que <code translate="no">hora de finalización</code> ya que también es tiempo de Unix en segundos.</p>
		<p>También queremos crear un Videocloud Video para el clip, por lo que lo incluimos en el <code translate="no">producción</code>. Se creará un video de Videocloud en el momento de programar el flujo de trabajo y su identificación se devolverá en la respuesta para que pueda conocer la identificación del video antes de realizar el clip. Si luego cancela la solicitud del clip o falla a la hora programada, el video de Videocloud NO se eliminará de su cuenta.</p>
		<h3>Pedido</h3>
		<p>Para crear el flujo de trabajo, haga lo siguiente <code translate="no">CORREO</code> solicitud:</p>
		<pre><code class="language-http" translate="no">https://api.bcovlive.io/v1/scheduler/clip</code></pre>
		
		<h3>Encabezados</h3>
		
<pre><code translate="no">Tipo de contenido: aplicación / json X-API-KEY: su clave API</code></pre>
		
		<h3>Cuerpo de la solicitud</h3>
<pre class="line-numbers"><code class="language-json" translate="No">{
	"job_id":  "your Job ID",
	"description": "My Scheduled Clip",
	"clip": {
		"output": {
			"label": "My Scheduled Clip",
			"start_time": 1612878900,
			"end_time": 1612879800,
			"videocloud": {
				"video": {
					"name": "My Scheduled Clip"
				}
			}
		},
		"time_utc": 1612879800
	}
}</code></pre>
		
<details>
	<summary>Respuesta de muestra</summary>
<pre><code class="language-json" translate="no">{ "account_id": "your Account ID", "description": "My Tuesday Clip", "type": "clip", "job_id": "your Job ID", "clip": { "state": "pending", "output": { "label": "My Scheduled Clip", "start_time": 1612878900, "end_time": 1612879800, "videocloud": { "video": { "id": "70702010152202", "name": "My Scheduled Clip" }}}, "time_utc": 1612879800} "workflow_id": "d44cf29f4f184757ac0995beb8a0097e",}</code></pre>
</details>		
		<p>Tenga en cuenta que <code translate="no">clip.output.videocloud.video.id</code> contiene el ID del video de Videocloud recién creado. A <code translate="no">time_utc</code> la fuente de video se actualizará con el clip ingerido.</p>
		</section>
		<section class="bcls-section">
			<h2 id="Update_a_Clip_scheduler_workflow">Actualizar un flujo de trabajo del programador de clips</h2>
			<p>Puede actualizar tanto el <code translate="no">producción</code> y <code translate="no">time_utc</code> de su clip. Estos solo se pueden actualizar si el trabajo está en estado pendiente: <code translate="no">"estado": "pendiente"</code>.</p>
			<p>Siguiendo el ejemplo anterior, queremos que el clip sea 5 minutos más corto de lo planeado. Al actualizar el <code translate="no">producción</code> campo, debe proporcionar el objeto completo, no solo los cambios que se están realizando. Esto incluye el ID de video de Videocloud devuelto por la llamada de creación anterior.</p>
			<p>Tenga en cuenta que en este ejemplo, actualizamos ambos <code translate="no">hora de finalización</code> y <code translate="no">time_utc</code> para reflejar la reducción de 5 minutos.</p>
			<h3>Pedido</h3>
			<p>Para actualizar el flujo de trabajo, haga lo siguiente <code translate="no">PONER</code> solicitud:</p>
			<pre><code class="language-http" translate="no">https://api.bcovlive.io/v1/scheduler/clip/<span class="bcls-input">{workflow_id}</span></code></pre>
			
			<h3>Encabezados</h3>
			
	<pre><code translate="no">Tipo de contenido: aplicación / json X-API-KEY: su clave API</code></pre>
			
			<h3>Cuerpo de la solicitud</h3>
	<pre class="line-numbers"><code class="language-json" translate="No">{
		"clip": {
			"output": {
				"label": "My Scheduled Clip",
				"start_time": 1612878900,
				"end_time": 1612879500,
				"videocloud": {
					"video": {
						"id": "70702010152202",
						"name": "My Scheduled Clip"
					}
				}
			},
			"time_utc": 1612879500
		}
	}</code></pre>
			
	<details>
		<summary>Respuesta de muestra</summary>
	<pre><code class="language-json" translate="no">{ "account_id": "your Account ID", "description": "My Tuesday Clip", "type": "clip", "job_id": "your Job ID", "clip": { "state": "pending", "output": { "label": "My Scheduled Clip", "start_time": 1612878900, "end_time": 1612879500, "videocloud": { "video": { "id": "70702010152202", "name": "My Scheduled Clip" }}}, "time_utc": 1612879500} "workflow_id": "d44cf29f4f184757ac0995beb8a0097e",}</code></pre>
	</details>		
	</section>
	<section class="bcls-section">
		<h2 id="Cancel_a_Clip_scheduler_workflow">Cancelar un flujo de trabajo del programador de clips</h2>
		<p>Puede cancelar el clip con un <code translate="no">ELIMINAR</code> solicitud.</p>
		<p>Tenga en cuenta que al cancelar el flujo de trabajo de un clip, cualquier video de Videocloud creado en el momento de la programación <strong>NO</strong> ser eliminado por el backend. Debe eliminar los videos huérfanos de su cuenta de Videocloud manualmente.</p>
		<h3>Pedido</h3>
		<p>Para actualizar el flujo de trabajo, haga lo siguiente <code translate="no">ELIMINAR</code> solicitud:</p>
		<pre><code class="language-http" translate="no">https://api.bcovlive.io/v1/scheduler/clip/<span class="bcls-input">{workflow_id}</span></code></pre>
		
		<h3>Encabezados</h3>
		
X-API-KEY: su clave API</code></pre>
		
		<h3>Cuerpo de la solicitud</h3>
		<p>No hay un cuerpo de solicitud para esta solicitud.</p>		
<details>
	<summary>Respuesta de muestra</summary>
<pre><code class="language-json" translate="no">{ "account_id": "your Account ID", "description": "My Tuesday Clip", "type": "clip", "job_id": "your Job ID", "clip": { "state": "cancelled", "output": { "label": "My Scheduled Clip", "start_time": 1612878900, "end_time": 1612879500, "videocloud": { "video": { "id": "70702010152202", "name": "My Scheduled Clip" }}}, "time_utc": 1612879500} "workflow_id": "d44cf29f4f184757ac0995beb8a0097e",}</code></pre>
</details>		
</section>
<section class="bcls-section">
  <h2 id="notifications">Notificaciones</h2>
  <p>Opcionalmente, puede configurar notificaciones al crear el flujo de trabajo. Debe proporcionar una URL para que nuestro servicio <code translate="no">CORREO</code> para. Enviaremos una notificación cuando el programador realice la llamada de clip. También puede configurar para recibir una notificación <code translate="no">norte</code> segundos antes del clip. Ver el <a href="/live-api/guides/live-scheduler-notifications.html">Notificaciones del programador en vivo</a> para más detalles.</p>
	<details>
		<summary>Cuerpo de solicitud de muestra</summary>
	<pre><code class="language-json" translate="no">{ "job_id": "su ID de trabajo", "descripción": «Mi clip programado», <span class="bcls-highlight">«notification_url»: "http://example.com/live/clip/callbacks"</span>, «clip»: { "output": { "label": "My Scheduled Clip", "start_time": 1612878900, "end_time": 1612879800, "videocloud": { "video": { "name": "My Scheduled Clip" }}}, «time_utc»: 1612879800, <span class="bcls-highlight">«notificación»: 600</span>}}</code></pre>
	</details>
</section>
<section class="bcls-section">
	<h2 id="related_topics">Temas relacionados</h2>
	<ul>
		<li><a href="/live-api/guides/live-scheduler.html">Descripción general: Programador en vivo</a></li>
		<li><a href="/live-api/guides/live-scheduler-stop-start.html">Programación de la activación / desactivación de una secuencia SEP</a></li>
		<li><a href="/live-api/guides/live-scheduler-notifications.html">Notificaciones del programador en vivo</a></li>
		<li><a href="/live-api/guides/live-api-static-entry-points.html">Empleos de Static Entry Point (SEP)</a></li>
		<li><a href="/live-api/references/reference-staging.html">Referencia de API en vivo</a></li>
		<li><a href="/live-module/scheduling-live-event.html">Inicio / parada automática de eventos en vivo en la sala de control</a></li>
	</ul>
</section>
</article>