---
title: URL firmadas y autenticación de token con transmisión en vivo
description: 'En este tema, aprenderá a usar URL firmadas y autenticación de token para evitar que los usuarios finales puedan reproducir su transmisión en vivo sin la debida autorización.'
parent: Guides 
grandparent: Live API
---
 <h1>Esta página se ha movido; se le dirigirá a la <a href="https://apis.support.brightcove.com/live-api/guides/signed-urls-and-token-auth-live-stream.html">nueva ubicacion</a> en 3 segundos. ¡Actualiza tus marcadores!</h1>
<script type="text/javascript">
var t = setTimeout (function () { window.location.href = 'https://apis.support.brightcove.com/live-api/guides/signed-urls-and-token-auth-live-stream.html'; }, 3000);
</script>
<h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h2 id="Overview">Descripción general</h2>

<p>Si está entregando contenido premium o confidencial, buscará todas las formas de asegurarse de que permanezca seguro. No desea que los usuarios finales puedan copiar las URL de los videos o continuar reproduciendo contenido sin la debida autorización. Brightcove admite la firma de URL RTMP, HLS y DASH.</p>

<p>Si va a generar su propio token, hay un paso en este proceso. Si desea que el sistema Live genere una URL con token, hay dos pasos, que se detallan en las secciones siguientes, necesarios para habilitar la autenticación de token para transmisiones en vivo.</p>

<aside class="bcls-aside bcls-aside--information">Actualmente, la autenticación de tokens solo se admite con Akamai EdgeAuth 2.0.</aside>
</section>

<section id="Implementation" class="bcls-section">
<h2>Implementación</h2>

<aside class="bcls-aside bcls-aside--information">Nota: si está creando su propio token y lo agrega a la URL, solo debe completar el paso 1.</aside>

<h3>Paso 1: Creando el trabajo en vivo</h3>

<p>Para habilitar la autenticación de token, incluya lo siguiente en el cuerpo de la solicitud cuando <a href="/live-api/references/reference.html#api-Live_Jobs-Create_a_Live_Job">crear un trabajo</a>:</p>

<pre class="line-numbers">
  <code class="language-json" translate="No">"add_cdns": [{
    "label": "My CDN",
    "prepend": "mycdn-a.akamaihd.net",
    "protocol": "https",
    "vendor": "akamai",
    "token_auth": {
      "auth_type": "Akamai2.0",
      "key": "AKAMAI_TOKEN_PASSWORD",
      "token_name": "AKAMAI_TOKEN_NAME",
      "media": {
        "start_time": "now",
        "end_time": 1495697388,
        "ttl": 60
      }
    }
  }]</code></pre>

<p>Los campos relevantes se describen en la siguiente tabla:</p>

<table class="bcls-table">
	<caption class="bcls-caption--table">Campos TTL para trabajos en vivo</caption>
	<thead class="bcls-table__head">
		<tr>
			<th>Campo</th>
			<th>Valor</th>
		</tr>
	</thead>
	<tbody class="bcls-table__body">
		<tr>
			<td ><code translate="No">start_time</code></td>
			<td >ya sea <code translate="No">now</code> o una hora de inicio unix / posix</td>
		</tr>
		<tr>
			<td ><code translate="No">end_time</code></td>
			<td >hora de finalización de unix / posix</td>
		</tr>
		<tr>
			<td ><code translate="No">ttl</code></td>
			<td >número en segundos para el tiempo de vida</td>
		</tr>
	</tbody>
</table>

<h3>Paso 2: Después de que se crea el trabajo en vivo</h3>

<aside class="bcls-aside bcls-aside--information">Solo complete este paso si está <strong>no</strong> creando su propio token y, en su lugar, desea que la API en vivo genere una URL tokenizada.</aside>

<p>Una vez creado el trabajo en vivo, debe realizar otra solicitud para generar las URL del manifiesto maestro. Para hacer esto, envíe un <code translate="No">POST</code> solicitud de:</p>

<pre class="line-numbers">
  <code class="language-http" translate="No">https://api.bcovlive.io/v1/jobs/<span class="bcls-input">JOB_ID</span>/authurls</code></pre>

<p>Incluya el siguiente JSON como cuerpo de la solicitud:</p>

<pre class="line-numbers">
  <code class="language-json" translate="No">{
    "ttl": <span class="bcls-input">number in seconds for time to live</span>
  }</code></pre>
</section>

<section id="Notes" class="bcls-section">
<h2>Notas</h2>

<ul>
	<li>La <code translate="No">ttl</code> El valor de los dos pasos anteriores debe ser igual o mayor que la ventana del DVR; de lo contrario, la ventana del DVR se limitará a la <code translate="No">ttl</code> valor</li>
	<li>Se admiten tanto http como https</li>
	<li>La <code translate="No">token_name</code> debe tener entre 5 y 12 caracteres y debe coincidir con lo configurado en Akamai</li>
	<li><code translate="No">start_time</code> es opcional y puede ser <code translate="No">"now"</code> (el valor predeterminado) o un valor de tiempo de época en segundos</li>
	<li><code translate="No">end_time</code> es opcional y puede ser un valor de tiempo de época en segundos, ya sea <code translate="No">end_time</code> o <code translate="No">ttl</code> se requiere; si no se especifica, <code translate="No">ttl</code> se supone que es el mayor de <code translate="No">live_dvr_sliding_window_duration</code> y <code translate="No">vod_sliding_window_duration</code></li>
</ul>
</section>
</article>